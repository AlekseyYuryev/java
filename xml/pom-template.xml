<project
	xmlns="http://maven.apache.org/POM/4.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>org</groupId>
		<artifactId>safris</artifactId>
		<version>${org.safris}</version>
	</parent>
	<groupId>org.safris</groupId>
	<artifactId>xml</artifactId>
	<version>${org.safris.xml}</version>
	<packaging>pom</packaging>
	<name>${groupId}.${artifactId}</name>
	<description>
		XML projects.
	</description>
	<modules>
		<module>generator</module>
		<module>toolkit</module>
		<module>ant</module>
		<module>maven</module>
		<module>sample</module>
		<module>tutorial</module>
	</modules>
	<build>
		<pluginManagement>
			<plugins>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-dependency-plugin</artifactId>
					<executions>
						<execution>
							<phase>package</phase>
							<goals>
								<goal>unpack-dependencies</goal>
							</goals>
							<configuration>
								<includeGroupIds>org.safris</includeGroupIds>
								<outputDirectory>${project.build.directory}/classes</outputDirectory>
								<overWriteSnapshots>true</overWriteSnapshots>
								<overWriteReleases>true</overWriteReleases>
								<overWriteIfNewer>true</overWriteIfNewer>
							</configuration>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<artifactId>maven-antrun-plugin</artifactId>
					<executions>
						<execution>
							<id>src-jar</id>
							<goals>
								<goal>run</goal>
							</goals>
							<configuration>
								<tasks>
									<mkdir dir="${project.build.directory}/solo/${version}"/>
									<jar destfile="${project.build.directory}/solo/${version}/${artifactId}-${parent.artifactId}-src-${version}.jar" index="true" filesetmanifest="merge">
										<fileset dir="${basedir}/src/main/java"/>
										<fileset dir="${basedir}/src/main/resources"/>
									</jar>
<!--									<taskdef resource="net/sf/antcontrib/antcontrib.properties">
										<classpath>
											<path refid="maven.test.classpath"/>
										</classpath>
									</taskdef>
									<trycatch property="exception">
										<try>
											<jar destfile="${project.build.directory}/solo/${version}/${artifactId}-${parent.artifactId}-src-${version}.jar" index="true" filesetmanifest="merge" update="true">
												<fileset dir="${basedir}/src/main/java"/>
												<fileset dir="${basedir}/src/main/resources"/>
											</jar>
										</try>
										<catch>
											<echo>${exception}</echo>
										</catch>
									</trycatch>
									<trycatch property="exception">
										<try>
											<jar destfile="${project.build.directory}/solo/${version}/${parent.artifactId}-${artifactId}-src-${version}.jar" index="true" filesetmanifest="merge" update="true">
												<fileset dir="${basedir}/src/test/java"/>
												<fileset dir="${basedir}/src/test/resources"/>
											</jar>
										</try>
										<catch>
											<echo>${exception}</echo>
										</catch>
									</trycatch>-->
								</tasks>
							</configuration>
						</execution>
						<execution>
							<id>jar</id>
							<goals>
								<goal>run</goal>
							</goals>
							<configuration>
								<tasks>
									<delete dir="${project.build.directory}/classes/META-INF"/>
									<mkdir dir="${project.build.directory}/classes/META-INF"/>
									<manifest file="${project.build.directory}/classes/META-INF/MANIFEST.MF">
<!--										<attribute name="Main-Class" value="org.safris.xml.toolkit.binding.Generator"/>-->
									</manifest>
									<mkdir dir="${project.build.directory}/solo/${version}"/>
									<jar destfile="${project.build.directory}/solo/${version}/${artifactId}-${parent.artifactId}-${version}.jar" basedir="${project.build.directory}/classes" index="true" filesetmanifest="merge"/>
								</tasks>
							</configuration>
						</execution>
						<execution>
							<id>deploy</id>
							<goals>
								<goal>run</goal>
							</goals>
							<configuration>
								<tasks>
									<scp todir="${env.USER}@safris.org:/var/lib/mvn/org/solo" trust="true" keyfile="${env.HOME}/.ssh/id_dsa" passphrase="">
										<fileset dir="${project.build.directory}/solo"/>
									</scp>
								</tasks>
							</configuration>
						</execution>
					</executions>
				</plugin>
			</plugins>
		</pluginManagement>
	</build>
</project>
